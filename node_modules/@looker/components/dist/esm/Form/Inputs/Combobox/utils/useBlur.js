import { useContext } from 'react';
import { ComboboxContext } from '../ComboboxContext';
import { ComboboxActionType, ComboboxState } from './state';
export function useBlur() {
    const { state, transition, popoverRef, inputElement } = useContext(ComboboxContext);
    return function handleBlur() {
        requestAnimationFrame(() => {
            const popoverCurrent = popoverRef ? popoverRef.current : null;
            if (document.activeElement !== inputElement && popoverCurrent) {
                if (popoverCurrent && popoverCurrent.contains(document.activeElement)) {
                    if (state !== ComboboxState.INTERACTING) {
                        transition && transition(ComboboxActionType.INTERACT);
                    }
                }
                else {
                    transition && transition(ComboboxActionType.BLUR);
                }
            }
        });
    };
}
//# sourceMappingURL=useBlur.js.map