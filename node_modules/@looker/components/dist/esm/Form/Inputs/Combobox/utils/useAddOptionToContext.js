import { useEffect, useRef, useContext } from 'react';
export function useAddOptionToContext(context, value, label, scrollIntoView) {
    const { optionsRef, windowedOptionsPropRef } = useContext(context);
    const indexRef = useRef(-1);
    useEffect(() => {
        const option = { label, scrollIntoView, value };
        const optionsRefCurrent = optionsRef && optionsRef.current;
        const windowedOptions = windowedOptionsPropRef && windowedOptionsPropRef.current;
        if (optionsRefCurrent && !windowedOptions) {
            if (indexRef.current > -1) {
                optionsRefCurrent.splice(indexRef.current, 0, option);
            }
            else {
                optionsRefCurrent.push(option);
            }
        }
        return () => {
            if (optionsRefCurrent && !windowedOptionsPropRef) {
                const index = optionsRefCurrent.indexOf(option);
                indexRef.current = index;
                optionsRefCurrent.splice(index, 1);
            }
        };
    }, [value, label, optionsRef, scrollIntoView, windowedOptionsPropRef]);
}
//# sourceMappingURL=useAddOptionToContext.js.map