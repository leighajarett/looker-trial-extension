"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importDefault(require("react"));
const styled_components_1 = __importStar(require("styled-components"));
const omit_1 = __importDefault(require("lodash/omit"));
const pick_1 = __importDefault(require("lodash/pick"));
const InputText_1 = require("../Inputs/InputText/InputText");
const Label_1 = require("../Label/Label");
const Paragraph_1 = require("../../Text/Paragraph");
const Text_1 = require("../../Text/Text");
const ValidationMessage_1 = require("../ValidationMessage");
const RequiredStar_1 = require("./RequiredStar");
exports.fieldPropKeys = [
    'description',
    'detail',
    'id',
    'inline',
    'label',
    'labelFontSize',
    'labelFontWeight',
    'labelWidth',
    'validationMessage',
    'width',
];
exports.pickFieldProps = (props) => pick_1.default(props, [...exports.fieldPropKeys, 'disabled', 'required', 'className']);
exports.omitFieldProps = (props) => omit_1.default(props, exports.fieldPropKeys);
const FieldLayout = ({ className, children, description, detail, id, label, labelFontSize, labelFontWeight, required, validationMessage, }) => {
    const fieldDescription = description && (react_1.default.createElement(Paragraph_1.Paragraph, { mt: "xsmall", fontSize: "xsmall", color: "palette.charcoal500" }, description));
    const fieldValidation = validationMessage && (react_1.default.createElement(ValidationMessage_1.ValidationMessage, Object.assign({}, validationMessage)));
    return (react_1.default.createElement("div", { className: className },
        react_1.default.createElement(Label_1.Label, { fontSize: labelFontSize, fontWeight: labelFontWeight, htmlFor: id, id: `${id}-labeledby` },
            label,
            required && react_1.default.createElement(RequiredStar_1.RequiredStar, null)),
        detail && react_1.default.createElement(FieldDetail, null, detail),
        react_1.default.createElement(InputArea, null, children),
        react_1.default.createElement(MessageArea, { id: `${id}-describedby` },
            fieldDescription,
            fieldValidation)));
};
const FieldDetail = styled_components_1.default(Text_1.Text).withConfig({ displayName: "FieldDetail", componentId: "sc-l5jdo5" }) ``;
FieldDetail.defaultProps = {
    fontSize: 'xsmall',
};
const InputArea = styled_components_1.default.div.withConfig({ displayName: "InputArea", componentId: "sc-1q5yiwd" }) ``;
const MessageArea = styled_components_1.default.div.withConfig({ displayName: "MessageArea", componentId: "sc-1oz33yp" }) ``;
const fieldLabelCSS = (inline) => inline
    ? styled_components_1.css `
        text-align: right;
        line-height: ${InputText_1.inputHeight};
        justify-self: end;
        height: ${InputText_1.inputHeight};
        padding-right: ${({ theme }) => theme.space.small};
      `
    : styled_components_1.css `
        line-height: ${({ theme }) => theme.lineHeights.xsmall};
        padding-bottom: ${({ theme }) => theme.space.xsmall};
      `;
exports.Field = styled_components_1.default(FieldLayout).withConfig({ displayName: "Field", componentId: "sc-1vl3olm" }) `
  height: fit-content;
  width: ${({ width }) => width || 'fit-content'};
  align-items: left;
  justify-content: space-between;

  display: grid;
  grid-template-areas: ${({ inline }) => inline
    ? '"label input detail" ". messages messages"'
    : '"label detail" "input input" "messages messages"'};
  grid-template-columns: ${({ inline, labelWidth }) => inline ? `${labelWidth} 1fr` : undefined};

  ${InputArea} {
    display: flex;
    grid-area: input;
    align-items: center;
  }

  ${MessageArea} {
    grid-area: messages;
  }

  & > ${Label_1.Label} {
    grid-area: label;
    ${({ inline }) => fieldLabelCSS(inline)}
  }

  ${FieldDetail} {
    grid-area: detail;
    justify-self: end;

    ${({ inline, theme }) => inline &&
    ` align-self: center;
        padding-left: ${theme.space.small}; `}
  }

  ${ValidationMessage_1.ValidationMessage} {
    margin-right: ${({ theme }) => theme.space.xsmall};
    margin-top: ${({ theme }) => theme.space.xsmall};
  }
`;
exports.Field.defaultProps = { labelWidth: '150px', width: '100%' };
//# sourceMappingURL=Field.js.map