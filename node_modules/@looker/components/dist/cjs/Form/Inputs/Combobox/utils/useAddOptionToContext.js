"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
function useAddOptionToContext(context, value, label, scrollIntoView) {
    const { optionsRef, windowedOptionsPropRef } = react_1.useContext(context);
    const indexRef = react_1.useRef(-1);
    react_1.useEffect(() => {
        const option = { label, scrollIntoView, value };
        const optionsRefCurrent = optionsRef && optionsRef.current;
        const windowedOptions = windowedOptionsPropRef && windowedOptionsPropRef.current;
        if (optionsRefCurrent && !windowedOptions) {
            if (indexRef.current > -1) {
                optionsRefCurrent.splice(indexRef.current, 0, option);
            }
            else {
                optionsRefCurrent.push(option);
            }
        }
        return () => {
            if (optionsRefCurrent && !windowedOptionsPropRef) {
                const index = optionsRefCurrent.indexOf(option);
                indexRef.current = index;
                optionsRefCurrent.splice(index, 1);
            }
        };
    }, [value, label, optionsRef, scrollIntoView, windowedOptionsPropRef]);
}
exports.useAddOptionToContext = useAddOptionToContext;
//# sourceMappingURL=useAddOptionToContext.js.map