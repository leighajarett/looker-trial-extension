"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
const ComboboxContext_1 = require("../ComboboxContext");
const state_1 = require("./state");
function useBlur() {
    const { state, transition, popoverRef, inputElement } = react_1.useContext(ComboboxContext_1.ComboboxContext);
    return function handleBlur() {
        requestAnimationFrame(() => {
            const popoverCurrent = popoverRef ? popoverRef.current : null;
            if (document.activeElement !== inputElement && popoverCurrent) {
                if (popoverCurrent && popoverCurrent.contains(document.activeElement)) {
                    if (state !== state_1.ComboboxState.INTERACTING) {
                        transition && transition(state_1.ComboboxActionType.INTERACT);
                    }
                }
                else {
                    transition && transition(state_1.ComboboxActionType.BLUR);
                }
            }
        });
    };
}
exports.useBlur = useBlur;
//# sourceMappingURL=useBlur.js.map