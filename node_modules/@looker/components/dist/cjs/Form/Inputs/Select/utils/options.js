"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Combobox_1 = require("../../Combobox");
function flattenOptions(options) {
    return options.reduce((acc, option) => {
        const optionAsGroup = option;
        if (optionAsGroup.options) {
            return [...acc, ...optionAsGroup.options];
        }
        return [...acc, option];
    }, []);
}
exports.flattenOptions = flattenOptions;
function getOption(value, options) {
    const flattenedOptions = options && flattenOptions(options);
    return value
        ? { label: Combobox_1.getComboboxText(value, flattenedOptions), value }
        : undefined;
}
exports.getOption = getOption;
function getOptions(values, options) {
    if (!values)
        return undefined;
    const flattenedOptions = options && flattenOptions(options);
    return values.map((value) => ({
        label: Combobox_1.getComboboxText(value, flattenedOptions),
        value,
    }));
}
exports.getOptions = getOptions;
function compareOption(option, value) {
    return Combobox_1.getComboboxText(option).toLowerCase() === value.toLowerCase();
}
exports.compareOption = compareOption;
function getFirstOption(options) {
    const optionAsGroup = options[0];
    if (optionAsGroup && optionAsGroup.options)
        return optionAsGroup.options[0];
    return options[0];
}
exports.getFirstOption = getFirstOption;
function notInOptions(currentOptions, options, inputValue) {
    if (!inputValue)
        return false;
    if (currentOptions.find((option) => compareOption(option, inputValue))) {
        return false;
    }
    if (!options)
        return true;
    return (flattenOptions(options).find((option) => compareOption(option, inputValue)) === undefined);
}
exports.notInOptions = notInOptions;
//# sourceMappingURL=options.js.map