"use strict";
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importStar(require("react"));
const Button_1 = require("../Button");
const Layout_1 = require("../Layout");
const Icon_1 = require("../Icon");
const VisuallyHidden_1 = require("../VisuallyHidden");
const getBannerIntentStyling = (intent) => {
    const bannerTypeStyling = {};
    const iconProps = {
        mr: 'small',
        size: 20,
        style: { flexBasis: '20px', flexShrink: 0 },
    };
    switch (intent) {
        case 'warning':
            bannerTypeStyling.bg = 'palette.yellow100';
            bannerTypeStyling.icon = (react_1.default.createElement(Icon_1.Icon, Object.assign({}, iconProps, { name: "Warning", color: "palette.yellow500" })));
            bannerTypeStyling.accessibilityLabel = 'Warning';
            break;
        case 'info':
            bannerTypeStyling.bg = 'palette.blue100';
            bannerTypeStyling.icon = (react_1.default.createElement(Icon_1.Icon, Object.assign({}, iconProps, { name: "CircleInfo", color: "palette.blue400" })));
            bannerTypeStyling.accessibilityLabel = 'Info';
            break;
        case 'error':
            bannerTypeStyling.bg = 'palette.red100';
            bannerTypeStyling.icon = (react_1.default.createElement(Icon_1.Icon, Object.assign({}, iconProps, { name: "Warning", color: "palette.red600" })));
            bannerTypeStyling.accessibilityLabel = 'Error';
            break;
        case 'confirmation':
            bannerTypeStyling.bg = 'palette.green100';
            break;
        default:
            break;
    }
    return bannerTypeStyling;
};
exports.Banner = react_1.forwardRef((props, ref) => {
    const { children, canDismiss, intent = 'warning', onDismiss } = props, typeAndSpaceProps = __rest(props, ["children", "canDismiss", "intent", "onDismiss"]);
    const _a = getBannerIntentStyling(intent), { icon, accessibilityLabel } = _a, bannerIntentStyling = __rest(_a, ["icon", "accessibilityLabel"]);
    return (react_1.default.createElement(Layout_1.Flex, Object.assign({ ref: ref, flex: "auto" }, bannerIntentStyling, { borderRadius: "medium", m: "small", py: "xsmall", px: "small", alignItems: "center", "aria-live": "polite", role: "status" }, typeAndSpaceProps),
        icon,
        react_1.default.createElement(VisuallyHidden_1.VisuallyHidden, null, accessibilityLabel),
        react_1.default.createElement(Layout_1.Box, { flex: "auto" }, children),
        canDismiss && (react_1.default.createElement(Button_1.IconButton, { ml: "auto", style: { padding: '1px' }, onClick: onDismiss, hoverStyle: { background: 'none' }, icon: "Close", size: "small", label: `Dismiss ${intent}`, "aria-hidden": true }))));
});
exports.Banner.defaultProps = { intent: 'info' };
exports.Banner.displayName = 'Banner';
//# sourceMappingURL=Banner.js.map